<app-nav_bar></app-nav_bar>

<div class="container-fluid d-flex flex-column p-5" style="min-height: calc(100vh - 180px);">
  <div class="flex-grow-1 shadow p-5">
    <div class="mb-5">
      <h2 style="color: #3C3C3C;">Lista članova</h2>
    </div>



    <form [formGroup]="filterForm" (ngSubmit)="applyFilter()" >
      <div class="form-row">
        <div class="form-group col-md-3">
          <label for="filterOption">Filtriraj po:</label>
          <select class="form-control" id="filterOption" formControlName="filterOption">
            <option value="ime">Ime i prezime</option>
            <option value="datumRodjenja">Datum rođenja</option>
            <option value="pol">Pol</option>
          </select>
        </div>
        <div class="form-group col-md-3 mt-2 mb-2" *ngIf="filterForm.get('filterOption')?.value == 'ime'">
          <label for="searchTerm">Unesite ime i prezime:</label>
          <input type="text" class="form-control" id="searchTerm" formControlName="searchTerm" placeholder="Ime i prezime">
        </div>
        <div class="form-group col-md-3 mt-2 mb-2" *ngIf="filterForm.get('filterOption')?.value == 'datumRodjenja'">
          <label for="datumRodjenja">Unesite datum rođenja:</label>
          <input type="date" class="form-control" id="datumRodjenja" formControlName="datumRodjenja">
        </div>
        <div class="form-group col-md-3 mt-2 mb-2" *ngIf="filterForm.get('filterOption')?.value == 'pol'">
          <label for="pol">Izaberite pol:</label>
          <select class="form-control" id="pol" formControlName="pol">
            <option value="Musko">Musko</option>
            <option value="Zensko">Zensko</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3">
          <button id="purple_button" type="submit" class="btn btn-primary ">Potvrdi</button>
          <button type="button" class="btn btn-secondary m-2" (click)="resetFilter()">Poništi</button>
        </div>
      </div>
    </form>

    <div class="table-responsive mt-5">
      <table class="table" style="color: #3C3C3C;">
        <thead>
          <tr>
            <th>#</th>
            <th>Ime i Prezime</th>
            <th>Email</th>
            <th>Grad</th>
            <th>Broj telefona</th>
            <th>Datum rođenja</th>
            <th>Pol</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let member of members; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ member.ime}} {{member.prezime }}</td>
            <td>{{ member.email }}</td>
            <td>{{ member.grad }}</td>
            <td>{{ member.brojTelefona }}</td>
            <td>{{ member.datumRodjenja }}</td>
            <td>{{ member.pol }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<app-footer class="footer"></app-footer>
